#!MANAGED-CONFIG https://raw.githubusercontent.com/caaby/w/surge/c.conf

# å®˜æ–¹æ‰‹å†Œ - https://manual.nssurge.com/
# ç†è§£åŸç† - https://manual.nssurge.com/book/understanding-surge/cn/
# å¸®åŠ©ä¸­å¿ƒ - https://nssurge.zendesk.com/
# æŠ€æœ¯ç¤¾åŒº - https://community.nssurge.com

[General]
# >> æ—¥å¿—ç­‰çº§ warning, notify, info, verbose (é»˜è®¤å€¼: notify)
loglevel = warning
# >> TLS Provider: default, secure-transport, network-framework, openssl (é»˜è®¤å€¼: default)
tls-provider = openssl
# >> GeoIP æ•°æ®åº“
geoip-maxmind-url = https://raw.githubusercontent.com/Dreamacro/maxmind-geoip/release/Country.mmdb
# >> ç¦ç”¨GeoIPæ•°æ®åº“è‡ªåŠ¨æ›´æ–°, falseä¸ºå…è®¸è‡ªåŠ¨æ›´æ–°
disable-geoip-db-auto-update = false
# >> IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­
ipv6 = true
# >> å…è®¸çƒ­ç‚¹å…±äº«
allow-hotspot-access = true
# >> Wi-Fi Assist å¼€å¯æ—¶ï¼Œæ”¯æŒä½¿ç”¨æ•°æ®ç½‘ç»œè¿›è¡Œåå¤‡ DNS æŸ¥è¯¢
wifi-assist = true
# >> å…è®¸ Wi-Fi ç½‘ç»œä¸‹å…¶å®ƒè®¾å¤‡è®¿é—® iOSç«¯HTTPä»£ç†æœåŠ¡ç«¯å£é»˜è®¤6152 SOCKS5ä»£ç†æœåŠ¡ç«¯å£é»˜è®¤6153
allow-wifi-access = true
# >> æµ‹é€Ÿè¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 3
# >> ç½‘ç»œæµ‹è¯• URL
internet-test-url = http://wifi.vivo.com/generate_204
# >> ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.gstatic.com/generate_204

[Proxy Group]
# >> ä»£ç†
proxy = select, hk, taiwan, japan, singapore, usa, vip, fast
# >> +86æ¸¯æ¾³å°æ‰‹æœºå·ç ç»‘å®šç”¨æˆ·èµ°directå³å¯ GoogleVoiceç”¨æˆ·å¯æ ¹æ®ä½ WeChatæœåŠ¡å™¨æ‰€åœ¨çš„åœ°åŒºæ¥é€‰æ‹©ä¸åŒçš„ç­–ç•¥ã€‚
wechat = select, DIRECT, hk, usa
# >> åª’ä½“
stream = select, hk, japan, singapore, usa, taiwan, vip, fast
# >> final æœ€åé€‰æ‹©
# final =  select, proxy, DIRECT
# >> ç½‘ç»œåƒåœ¾ å¹¿å‘Šæ‹’ç»æ‰
advertisement = select, REJECT, REJECT-DROP, REJECT-TINYGIF
# >> telegram
# telegram = select, hong kong, ğ—¦ğ—¶ğ—»ğ—´ğ—®ğ—½ğ—¼ğ—¿ğ—², united states

hk = url-test, policy-path=https://cdn.v2free.net/link/ighvqVWAeHYIKsMK?list=surge, update-interval=43200, policy-regex-filter=(?=.*(æ¸¯|è²|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, no-alert=1, hidden=0

taiwan = url-test, policy-path=https://cdn.v2free.net/link/ighvqVWAeHYIKsMK?list=surge, update-interval=43200, policy-regex-filter=(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$, no-alert=1, hidden=1

japan = url-test, policy-path=https://cdn.v2free.net/link/ighvqVWAeHYIKsMK?list=surge, update-interval=43200, policy-regex-filter=(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$, no-alert=1, hidden=1

singapore = url-test, policy-path=https://cdn.v2free.net/link/ighvqVWAeHYIKsMK?list=surge, update-interval=43200, policy-regex-filter=(?=.*(æ–°|ç‹®|ç…|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾)).)*$, no-alert=1, hidden=1

usa = url-test, policy-path=https://cdn.v2free.net/link/ighvqVWAeHYIKsMK?list=surge, update-interval=43200, policy-regex-filter=(?=.*(ç¾|US|(?i)States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$, no-alert=1, hidden=0

netflix = url-test, policy-path=https://cdn.v2free.net/link/ighvqVWAeHYIKsMK?list=surge, update-interval=43200, policy-regex-filter=(å¥ˆé£|NF|NETFLIX), hidden=0

vip = url-test, policy-path=https://cdn.v2free.net/link/ighvqVWAeHYIKsMK?list=surge, update-interval=43200, policy-regex-filter=VIP2, no-alert=1, hidden=0

fast = url-test, policy-path=https://cdn.v2free.net/link/ighvqVWAeHYIKsMK?list=surge, update-interval=43200, policy-regex-filter = ^((?!å¥—é¤|å‰©ä½™).)*$, no-alert=1, hidden=0

[Rule]
####### <reject æ‹’ç»å¹¿å‘Š> #######
# >> Unbreak åç»­è§„åˆ™ä¿®æ­£
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list, DIRECT
# >> Advertising å¹¿å‘Š
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Advertising/Advertising.list, advertisement
DOMAIN-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Advertising/Advertising_Domain.list, advertisement

####### <proxy è§„åˆ™ä»£ç†> #######
# >> Apple ä»£ç†æœåŠ¡
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppleProxy/AppleProxy.list, proxy
# >> wechat
RULE-SET, https://raw.githubusercontent.com/NobyDa/Script/master/Surge/WeChat.list, wechat
# >> spotify
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list, hk
# >> netflix
RULE-SET, https://cdn.jsdelivr.net/gh/DivineEngine/Profiles/Surge/Ruleset/StreamingMedia/Video/Netflix.list, netflix
# >> disney
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list, stream
# >> youtube
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list, stream
# >> telegramæœåŠ¡
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list, vip
# >> github
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list, vip
# >> Google
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list, usa
# >> å›½é™…æµåª’ä½“æœåŠ¡
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GlobalMedia/GlobalMedia.list, stream
# >> å…¨çƒåŠ é€Ÿ
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list, proxy

####### <direct system> #######
# >> å¦‚æœå½“å‰ç½‘ç»œçš„èœ‚çªæ— çº¿ç”µæŠ€æœ¯åŒ¹é…ï¼Œåˆ™è§„åˆ™åŒ¹é…
# >> CELLULAR-RADIO, LTE, DIRECT
# >> å¦‚æœå½“å‰ç½‘ç»œçš„èœ‚çªè¿è¥å•†åŒ¹é…ï¼Œåˆ™è§„åˆ™åŒ¹é…ã€‚è¯¥å€¼åº”é‡‡ç”¨ MCC-MNC ä»£ç æ ·å¼ã€‚
CELLULAR-CARRIER, 289-67, DIRECT
# >> Local Area Network å±€åŸŸç½‘
RULE-SET, LAN, DIRECT
# >> Surgeå†…éƒ¨è§„åˆ™é›† å†…å®¹å¯èƒ½ä¼šéšç€Surgeç‰ˆæœ¬æ›´æ–°è€Œæ”¹å˜ã€‚è¯·å‰å¾€è§„åˆ™é›†è®¾ç½®æŸ¥çœ‹æœ€æ–°çš„å­è§„åˆ™ã€‚
RULE-SET, system, DIRECT

####### <direct ä¸­å›½ç›´è¿> #######
# >> Apple å›½å†…æœåŠ¡
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Apple/Apple.list, DIRECT
# >> China ä¸­å›½ç›´è¿
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list, DIRECT
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaIPs/ChinaIPs.list, DIRECT
# >> å½“æœ¬åœ°dnsæœåŠ¡å™¨è§£æå‡ºçš„ipä¸ºä¸­å›½ ipæ—¶ï¼Œç›´æ¥ä½¿ç”¨è¯¥ç»“æœï¼Œä¸åœ¨ç”¨è¿œç¨‹dnsæœåŠ¡å™¨é‡æ–°è§£æ
GEOIP, CN, DIRECT
# >> å½“æœ¬åœ°dnsæœåŠ¡å™¨è§£æå‡ºçš„ipæ—¶ï¼Œä½¿ç”¨ä»£ç†å‘è¿œç¨‹dnsæœåŠ¡å™¨é‡æ–°è§£æåŸŸå
GEOIP, US, usa
GEOIP, HK, hk
FINAL, DIRECT, dns-failed

[MitM]
enable = true
skip-server-cert-verify = true
ca-passphrase = D7004A35
ca-p12 = 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
hostname = -*.apple.com, -*.icloud.com
